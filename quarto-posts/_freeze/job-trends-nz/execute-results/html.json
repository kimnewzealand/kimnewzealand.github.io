{
  "hash": "91b59b299f206c21206491bc6946ce69",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Data Job Trends in New Zealand\"\nauthor: \"Kim Fitter\"\ndate: 2026-02-13\ntags: [\"Python\", \"trends\"]\ndescription: \"Analyzing Data job trends in New Zealand using pytrends library\"\nformat:\n  html:\n    code-fold: false\n    toc: true\n---\n\n## Introduction\n\nThis post explores data job trends in New Zealand using the **pytrends** library and [Quarto](https://quarto.org/).\n\n[pytrends](https://pypi.org/project/pytrends/) is an unofficial API for Google Trends that allows you to programmatically access Google Trends data. \nThis library is easy to use with no API key required however there are [rate limiting](https://github.com/GeneralMills/pytrends) limitations. \n\n## Setup\n\nLet's start by importing the libraries:\n\n::: {#b5141b7b .cell execution_count=1}\n``` {.python .cell-code}\nfrom pytrends.request import TrendReq\nimport matplotlib.pyplot as plt\nimport pandas as pd\nfrom datetime import datetime, timedelta\n```\n:::\n\n\n## Data Analysis\n\nNext analyse search trends for different data related job roles in New Zealand:\n\n::: {#abac7676 .cell execution_count=2}\n``` {.python .cell-code}\n# Initialize pytrends\npytrends = TrendReq(hl='en-NZ', tz=360)\n\n# Define the time period (last 5 years)\nend_date = datetime.now()\nstart_date = end_date - timedelta(days=365*5)\ntimeframe = f'{start_date.strftime(\"%Y-%m-%d\")} {end_date.strftime(\"%Y-%m-%d\")}'\n\n# Search terms for data related roles in NZ\nsearch_terms = [ 'data engineer', 'analytics engineer', 'ai engineer', 'product engineer']\n\n# Fetch interest over time\nprint(f\"Fetching Google Trends data for: {search_terms}\")\nprint(f\"Time period: {timeframe}\")\npytrends.build_payload(kw_list=search_terms, timeframe=timeframe, geo='NZ')\ndf = pytrends.interest_over_time()\n\n# Remove the 'isPartial' column if it exists\nif 'isPartial' in df.columns:\n    df = df.drop('isPartial', axis=1)\n\nprint(f\"Data shape: {df.shape}\")\nprint(f\"Data range: {df.index.min()} to {df.index.max()}\")\n\n# Filter out search terms with all zero values\nnon_zero_columns = [col for col in df.columns if df[col].sum() > 0]\ndf_filtered = df[non_zero_columns]\n\nprint(f\"\\nSearch terms with data: {non_zero_columns}\")\nprint(f\"Search terms filtered out (no data): {[term for term in search_terms if term not in non_zero_columns]}\")\n\n# Define colorblind-friendly palette (ColorBrewer Dark2)\n# These colors are distinguishable for people with color blindness\ncolors = ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e']\nterm_colors = {term: colors[i % len(colors)] for i, term in enumerate(non_zero_columns)}\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nFetching Google Trends data for: ['data engineer', 'analytics engineer', 'ai engineer', 'product engineer']\nTime period: 2021-02-18 2026-02-17\nData shape: (262, 4)\nData range: 2021-02-14 00:00:00 to 2026-02-15 00:00:00\n\nSearch terms with data: ['data engineer', 'analytics engineer', 'ai engineer', 'product engineer']\nSearch terms filtered out (no data): []\n```\n:::\n:::\n\n\n::: {#1d26b30f .cell execution_count=3}\n``` {.python .cell-code}\n# Create stacked bar chart over time with absolute values\nfig, ax = plt.subplots(figsize=(14, 7))\n\n# Create the stacked bar chart using raw filtered data (absolute values)\ndf_filtered.plot(\n    kind='bar',\n    stacked=True,\n    ax=ax,\n    color=[term_colors[term] for term in non_zero_columns],\n    width=0.8,\n    edgecolor='white',\n    linewidth=0.5\n)\n\nax.set_title('Search Trends for Data Roles in New Zealand - Absolute Interest Over Time (Last 5 Years)',\n             fontsize=14, fontweight='bold', pad=20)\nax.set_xlabel('Date', fontsize=12)\nax.set_ylabel('Search Interest (Google Trends Index)', fontsize=12)\nax.legend(title='Job Role', bbox_to_anchor=(1.05, 1), loc='upper left', fontsize=10)\nax.grid(True, alpha=0.3, axis='y')\n\n# Format x-axis to show fewer labels for readability\nn_ticks = 12  # Show approximately 12 date labels\ntick_positions = range(0, len(df_filtered), max(1, len(df_filtered) // n_ticks))\nax.set_xticks(tick_positions)\nax.set_xticklabels([df_filtered.index[i].strftime('%Y-%m') for i in tick_positions], rotation=45, ha='right')\n\nplt.tight_layout()\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](job-trends-nz_files/figure-html/cell-4-output-1.png){width=1333 height=662}\n:::\n:::\n\n\n::: {#c3bec76a .cell execution_count=4}\n``` {.python .cell-code}\n# Create individual line charts for each job role\nfig, axes = plt.subplots(2, 2, figsize=(14, 10))\naxes = axes.flatten()\n\nfor idx, term in enumerate(non_zero_columns[:4]):\n    ax = axes[idx]\n    ax.plot(df_filtered.index, df_filtered[term],\n            color=term_colors[term], linewidth=2.5, marker='o', markersize=4)\n    ax.fill_between(df_filtered.index, df_filtered[term], alpha=0.3, color=term_colors[term])\n\n    ax.set_title(f'{term.title()}', fontsize=12, fontweight='bold')\n    ax.set_xlabel('Date', fontsize=10)\n    ax.set_ylabel('Search Interest (Google Trends Index)', fontsize=10)\n    ax.grid(True, alpha=0.3)\n    ax.tick_params(axis='x', rotation=45)\n\n# Hide any unused subplots if fewer than 4 terms\nfor idx in range(len(non_zero_columns), 4):\n    axes[idx].set_visible(False)\n\nfig.suptitle('Individual Search Trends for Data Roles in New Zealand (Last 5 Years)',\n             fontsize=14, fontweight='bold', y=1.00)\nplt.tight_layout()\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](job-trends-nz_files/figure-html/cell-5-output-1.png){width=1334 height=964}\n:::\n:::\n\n\n## Conclusions\n\nFrom the analysis we can see that there is a lot of interest in data and AI related job roles in New Zealand. The search interest for these roles has been increasing over the last 5 years. The is consistent demand for data engineer, and increasing interest in analytics engineer and ai engineer roles. There still isn't uptake in the job role as product engineer in New Zealand.\n\n",
    "supporting": [
      "job-trends-nz_files"
    ],
    "filters": [],
    "includes": {}
  }
}