<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.31.1" />

  <title>Remote Sensing Analysis of Kaikoura NZ &middot; Kim Fitter</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

 
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  
  <a class="pure-menu-heading brand" href="/">Kim Fitter</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/post/"><i class='fa fa-list fa-fw'></i>Blog Archive</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/kim_fitter" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/kimnewzealand" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>Remote Sensing Analysis of Kaikoura NZ</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>01 Jan 0001</time>
  </div>

  

  

  

</div>

  <p>The <a href="https://www.geonet.org.nz/earthquake/2016p858000">Kaikoura earthquake</a> happened just after midnight on 14 November 2016.</p>
<p>After reading this article <a href="https://www.stuff.co.nz/national/87171157/Astonishing-Nasa-photos-show-Kaikoura-land-raised-by-earthquake">Astonishing Nasa photos show Kaikoura land raised by earthquake</a> I thought it would interesting to look at what open data is available for the newly exposed land from the article.</p>
<p>This analysis has the following objectives:</p>
<ul>
<li>Import, manipulate and visualise both vector and raster spatial data from different sources and with different spatial extents.</li>
<li>Source LiDAR and spectral remote sensing open data</li>
<li>Explore and use different Coordinate Reference System formats including proj.4, EPSG and WKT</li>
<li>Reproject vector and raster data to different CRS</li>
</ul>
<pre class="r"><code># Tidyverse metapackage
library(tidyverse)
# Package for reading spatial datasets
library(rgdal)
library(raster)
# Package for manipulating and plotting spatial data
library(sf)
# Package for downloading OSM data
library(osmdata)
# Package for plotting OSM basemap
library(osmplotr)
# Package for interactive maps
library(leaflet)
# Package for raster vis
library(rasterVis)</code></pre>
<div id="data" class="section level1">
<h1>Data</h1>
<div id="lidar-data" class="section level3">
<h3>LiDAR Data</h3>
<p>LiDAR or Light Detection and Ranging is an active remote sensing system that can be used to measure vegetation height across wide areas.</p>
<p><a href="https://data.linz.govt.nz/layer/3542-canterbury-kaikoura-lidar-1m-dem-2012/">LiDAR DEM data from before the earthquakes</a> is available for Kaikoura, Canterbury, New Zealand 2012.</p>
<blockquote>
<p>Lidar was captured for Environment Canterbury Regional Council by Aerial Surveys in 2012. Note that this capture was prior to the significant vertical and horizontal displacements from the 2016 Kaikoura earthquakes. The datasets were generated by Aerial Surveys and their subcontractors. The survey area includes the Kaikoura township area and adjacent coastal strips. Data management and distribution is by Land Information New Zealand.</p>
</blockquote>
</div>
<div id="spectral-remote-sensing-data" class="section level3">
<h3>Spectral Remote Sensing Data</h3>
<p><a href="https://lris.scinfo.org.nz/layer/48497-kaikoura-after-earthquake-23rd-november-2016/">Imagery Copernicus Sentinel data, November 2016 after the earthquakes</a> is available for Kaikoura.</p>
<blockquote>
<p>This image comes from the European Space Agency’s Copernicus Programme taken on 23 November at 11:16 NZDT.</p>
</blockquote>
<blockquote>
<p>Sentinel-2 is a wide-swath, high-resolution, multi-spectral imaging mission. Its optical instrument samples in 13 spectral bands: four bands at 10 metres, six bands at 20 metres and three bands at 60 metres spatial resolution. The imagery you see on this site is derived from the four bands with a spatial resolution of 10m.</p>
</blockquote>
</div>
<div id="load-data" class="section level2">
<h2>Load Data</h2>
<div id="create-a-kaikoura-bounding-box" class="section level3">
<h3>Create a Kaikoura Bounding Box</h3>
<p>Let’s create a bounding box or bbox which can be described as the spatial extent of the initial area of Kaikoura we want to analyse.</p>
<p>Create a bbox using the getbb function from <a href="https://cran.r-project.org/web/packages/osmdata/index.html">osmdata</a> R package of Kaikoura town.</p>
<pre class="r"><code># Get longitude and latitude coordinates for a Kaikoura bbox
kaikoura_bbox&lt;- osmdata::getbb(&quot;Kaikoura&quot;)
# Take a look at the CRS
crs(kaikoura_bbox)</code></pre>
<pre><code>## [1] NA</code></pre>
<pre class="r"><code># Plot the bbox 
plot(kaikoura_bbox)</code></pre>
<p><img src="/post/KaikouraLIDARanalysis_files/figure-html/kaikoura%20bbox-1.png" width="672" /></p>
<p>Currently this bbox object has no CRS and it consists of two points? Ideally we would like a polygon shape so let’s get the bbox as an sf object after following the package <a href="https://rdrr.io/cran/osmdata/man/getbb.html">examples</a>.</p>
<pre class="r"><code># Get Kaikoura bbox polygon seeting the format to sf
kaikoura_bbox_sf&lt;- osmdata::getbb(&quot;Kaikoura&quot;, format_out = &quot;sf_polygon&quot;)</code></pre>
<pre><code>## No polygonal boundary for Kaikoura</code></pre>
<pre class="r"><code># View the kaikoura_bbox_sf
kaikoura_bbox_sf</code></pre>
<pre><code>## Simple feature collection with 1 feature and 0 fields
## geometry type:  POLYGON
## dimension:      XY
## bbox:           xmin: 173.6404 ymin: -42.44037 xmax: 173.7204 ymax: -42.36037
## epsg (SRID):    4326
## proj4string:    +proj=longlat +datum=WGS84 +no_defs
##                         geometry
## 1 POLYGON ((173.6404 -42.3603...</code></pre>
<pre class="r"><code># We can check the bbox extent of our sf object using st_bbox function
st_bbox(kaikoura_bbox_sf)</code></pre>
<pre><code>##      xmin      ymin      xmax      ymax 
## 173.64036 -42.44037 173.72036 -42.36037</code></pre>
<pre class="r"><code># Check the crs of the bbox
st_crs(kaikoura_bbox_sf)</code></pre>
<pre><code>## Coordinate Reference System:
##   EPSG: 4326 
##   proj4string: &quot;+proj=longlat +datum=WGS84 +no_defs&quot;</code></pre>
<pre class="r"><code># Now plot the bbox sf object using ggplot and geom_sf to check that it is a box/pologon
ggplot(kaikoura_bbox_sf)+
      geom_sf()</code></pre>
<p><img src="/post/KaikouraLIDARanalysis_files/figure-html/kaikoura%20bbox%20take%202-1.png" width="672" /></p>
<p>The Coordinate Reference System (CRS) is the <a href="http://openstreetmapdata.com/info/projections">WGS84 (EPSG 4326) system</a>:</p>
<blockquote>
<p>OpenStreetMap uses the WGS84 spatial reference system used by the Global Positioning System (GPS). It uses geographic coordinates between -180</p>
</blockquote>
</div>
</div>
</div>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
  </div>
  <div class="pure-u-10-24">
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="/2018/01/01/creating-a-website-in-blogdown-and-hugo/">Creating a website in Hugo creative portfolio theme</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="/2018/01/01/creating-a-website-in-blogdown-and-hugo/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>



  

</div>

</div>
</div>
<script src="/js/ui.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-114904130-1', 'auto');
  ga('send', 'pageview');

</script>





</body>
</html>

